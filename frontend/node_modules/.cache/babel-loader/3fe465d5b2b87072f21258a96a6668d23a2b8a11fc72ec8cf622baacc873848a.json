{"ast":null,"code":"var _jsxFileName = \"D:\\\\MusicReco\\\\playlistreco\\\\frontend\\\\src\\\\components\\\\webcamExpression.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as faceapi from 'face-api.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WebcamExpression({\n  onEmotionDetected\n}) {\n  _s();\n  const videoRef = useRef();\n  const canvasRef = useRef();\n  const intervalRef = useRef();\n  const [modelsLoaded, setModelsLoaded] = useState(false);\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [detectionCount, setDetectionCount] = useState(0);\n  const [confidence, setConfidence] = useState(0);\n  useEffect(() => {\n    const loadModels = async () => {\n      try {\n        await faceapi.nets.tinyFaceDetector.loadFromUri('/models');\n        await faceapi.nets.faceExpressionNet.loadFromUri('/models');\n        setModelsLoaded(true);\n        startVideo();\n      } catch (error) {\n        console.error('Error loading models:', error);\n      }\n    };\n    loadModels();\n\n    // Cleanup interval on unmount\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, []);\n  const startVideo = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: {}\n    }).then(stream => {\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    }).catch(err => console.error('Error accessing webcam:', err));\n  };\n  const handleVideoPlay = () => {\n    if (!modelsLoaded || isDetecting) return;\n    setIsDetecting(true);\n    let emotionCounts = {};\n    let totalDetections = 0;\n    intervalRef.current = setInterval(async () => {\n      if (videoRef.current && canvasRef.current) {\n        try {\n          const detections = await faceapi.detectAllFaces(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceExpressions();\n          if (detections.length > 0) {\n            const expressions = detections[0].expressions;\n            const maxExpression = Object.keys(expressions).reduce((a, b) => expressions[a] > expressions[b] ? a : b);\n            const maxConfidence = expressions[maxExpression];\n\n            // Only consider emotions with confidence > 0.3\n            if (maxConfidence > 0.3) {\n              emotionCounts[maxExpression] = (emotionCounts[maxExpression] || 0) + 1;\n              totalDetections++;\n              setConfidence(maxConfidence);\n\n              // After 5 detections, determine the most frequent emotion\n              if (totalDetections >= 5) {\n                const mostFrequentEmotion = Object.keys(emotionCounts).reduce((a, b) => emotionCounts[a] > emotionCounts[b] ? a : b);\n                onEmotionDetected(mostFrequentEmotion);\n                setDetectionCount(totalDetections);\n                clearInterval(intervalRef.current);\n                setIsDetecting(false);\n              }\n            }\n\n            // Draw on canvas\n            const canvas = canvasRef.current;\n            const displaySize = {\n              width: videoRef.current.videoWidth,\n              height: videoRef.current.videoHeight\n            };\n            faceapi.matchDimensions(canvas, displaySize);\n            const resizedDetections = faceapi.resizeResults(detections, displaySize);\n            canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\n            faceapi.draw.drawDetections(canvas, resizedDetections);\n            faceapi.draw.drawFaceExpressions(canvas, resizedDetections);\n          }\n        } catch (error) {\n          console.error('Detection error:', error);\n        }\n      }\n    }, 500); // Faster detection for better responsiveness\n  };\n  const resetDetection = () => {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n    setIsDetecting(false);\n    setDetectionCount(0);\n    setConfidence(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'inline-block',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        muted: true,\n        width: \"640\",\n        height: \"480\",\n        onPlay: handleVideoPlay,\n        style: {\n          borderRadius: '8px',\n          border: '2px solid #007bff'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: [!modelsLoaded && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#666'\n        },\n        children: \"Loading face detection models...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), modelsLoaded && !isDetecting && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#28a745',\n            fontWeight: 'bold'\n          },\n          children: \"\\uD83D\\uDCF9 Camera ready! Look at the camera to detect your expression\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetDetection,\n          style: {\n            padding: '10px 20px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            marginTop: '10px'\n          },\n          children: \"Reset Detection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), isDetecting && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#ffc107',\n            fontWeight: 'bold'\n          },\n          children: [\"\\uD83D\\uDD0D Detecting emotion... (\", detectionCount, \"/5)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '200px',\n            height: '10px',\n            backgroundColor: '#e9ecef',\n            borderRadius: '5px',\n            margin: '10px auto',\n            overflow: 'hidden'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: `${detectionCount / 5 * 100}%`,\n              height: '100%',\n              backgroundColor: '#007bff',\n              transition: 'width 0.3s ease'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), confidence > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#6c757d',\n            fontSize: '14px'\n          },\n          children: [\"Confidence: \", (confidence * 100).toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(WebcamExpression, \"jp335zoEsceFzGKxLQw3ROOgJE8=\");\n_c = WebcamExpression;\nexport default WebcamExpression;\nvar _c;\n$RefreshReg$(_c, \"WebcamExpression\");","map":{"version":3,"names":["React","useRef","useEffect","useState","faceapi","jsxDEV","_jsxDEV","WebcamExpression","onEmotionDetected","_s","videoRef","canvasRef","intervalRef","modelsLoaded","setModelsLoaded","isDetecting","setIsDetecting","detectionCount","setDetectionCount","confidence","setConfidence","loadModels","nets","tinyFaceDetector","loadFromUri","faceExpressionNet","startVideo","error","console","current","clearInterval","navigator","mediaDevices","getUserMedia","video","then","stream","srcObject","catch","err","handleVideoPlay","emotionCounts","totalDetections","setInterval","detections","detectAllFaces","TinyFaceDetectorOptions","withFaceExpressions","length","expressions","maxExpression","Object","keys","reduce","a","b","maxConfidence","mostFrequentEmotion","canvas","displaySize","width","videoWidth","height","videoHeight","matchDimensions","resizedDetections","resizeResults","getContext","clearRect","draw","drawDetections","drawFaceExpressions","resetDetection","style","textAlign","children","position","display","marginBottom","ref","autoPlay","muted","onPlay","borderRadius","border","fileName","_jsxFileName","lineNumber","columnNumber","top","left","color","fontWeight","onClick","padding","backgroundColor","cursor","marginTop","margin","overflow","transition","fontSize","toFixed","_c","$RefreshReg$"],"sources":["D:/MusicReco/playlistreco/frontend/src/components/webcamExpression.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport * as faceapi from 'face-api.js';\r\n\r\nfunction WebcamExpression({ onEmotionDetected }) {\r\n  const videoRef = useRef();\r\n  const canvasRef = useRef();\r\n  const intervalRef = useRef();\r\n  const [modelsLoaded, setModelsLoaded] = useState(false);\r\n  const [isDetecting, setIsDetecting] = useState(false);\r\n  const [detectionCount, setDetectionCount] = useState(0);\r\n  const [confidence, setConfidence] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const loadModels = async () => {\r\n      try {\r\n        await faceapi.nets.tinyFaceDetector.loadFromUri('/models');\r\n        await faceapi.nets.faceExpressionNet.loadFromUri('/models');\r\n        setModelsLoaded(true);\r\n        startVideo();\r\n      } catch (error) {\r\n        console.error('Error loading models:', error);\r\n      }\r\n    };\r\n\r\n    loadModels();\r\n\r\n    // Cleanup interval on unmount\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const startVideo = () => {\r\n    navigator.mediaDevices.getUserMedia({ video: {} })\r\n      .then((stream) => {\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n        }\r\n      })\r\n      .catch(err => console.error('Error accessing webcam:', err));\r\n  };\r\n\r\n  const handleVideoPlay = () => {\r\n    if (!modelsLoaded || isDetecting) return;\r\n\r\n    setIsDetecting(true);\r\n    let emotionCounts = {};\r\n    let totalDetections = 0;\r\n\r\n    intervalRef.current = setInterval(async () => {\r\n      if (videoRef.current && canvasRef.current) {\r\n        try {\r\n          const detections = await faceapi\r\n            .detectAllFaces(videoRef.current, new faceapi.TinyFaceDetectorOptions())\r\n            .withFaceExpressions();\r\n\r\n          if (detections.length > 0) {\r\n            const expressions = detections[0].expressions;\r\n            const maxExpression = Object.keys(expressions).reduce((a, b) => \r\n              expressions[a] > expressions[b] ? a : b\r\n            );\r\n            \r\n            const maxConfidence = expressions[maxExpression];\r\n            \r\n            // Only consider emotions with confidence > 0.3\r\n            if (maxConfidence > 0.3) {\r\n              emotionCounts[maxExpression] = (emotionCounts[maxExpression] || 0) + 1;\r\n              totalDetections++;\r\n              setConfidence(maxConfidence);\r\n              \r\n              // After 5 detections, determine the most frequent emotion\r\n              if (totalDetections >= 5) {\r\n                const mostFrequentEmotion = Object.keys(emotionCounts).reduce((a, b) => \r\n                  emotionCounts[a] > emotionCounts[b] ? a : b\r\n                );\r\n                onEmotionDetected(mostFrequentEmotion);\r\n                setDetectionCount(totalDetections);\r\n                clearInterval(intervalRef.current);\r\n                setIsDetecting(false);\r\n              }\r\n            }\r\n\r\n            // Draw on canvas\r\n            const canvas = canvasRef.current;\r\n            const displaySize = { width: videoRef.current.videoWidth, height: videoRef.current.videoHeight };\r\n            faceapi.matchDimensions(canvas, displaySize);\r\n            const resizedDetections = faceapi.resizeResults(detections, displaySize);\r\n            canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n            faceapi.draw.drawDetections(canvas, resizedDetections);\r\n            faceapi.draw.drawFaceExpressions(canvas, resizedDetections);\r\n          }\r\n        } catch (error) {\r\n          console.error('Detection error:', error);\r\n        }\r\n      }\r\n    }, 500); // Faster detection for better responsiveness\r\n  };\r\n\r\n  const resetDetection = () => {\r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n    }\r\n    setIsDetecting(false);\r\n    setDetectionCount(0);\r\n    setConfidence(0);\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <div style={{ position: 'relative', display: 'inline-block', marginBottom: '20px' }}>\r\n        <video\r\n          ref={videoRef}\r\n          autoPlay\r\n          muted\r\n          width=\"640\"\r\n          height=\"480\"\r\n          onPlay={handleVideoPlay}\r\n          style={{ borderRadius: '8px', border: '2px solid #007bff' }}\r\n        />\r\n        <canvas \r\n          ref={canvasRef} \r\n          style={{ position: 'absolute', top: 0, left: 0 }}\r\n        />\r\n      </div>\r\n      \r\n      <div style={{ marginBottom: '20px' }}>\r\n        {!modelsLoaded && (\r\n          <p style={{ color: '#666' }}>Loading face detection models...</p>\r\n        )}\r\n        \r\n        {modelsLoaded && !isDetecting && (\r\n          <div>\r\n            <p style={{ color: '#28a745', fontWeight: 'bold' }}>\r\n              📹 Camera ready! Look at the camera to detect your expression\r\n            </p>\r\n            <button \r\n              onClick={resetDetection}\r\n              style={{\r\n                padding: '10px 20px',\r\n                backgroundColor: '#007bff',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n                cursor: 'pointer',\r\n                marginTop: '10px'\r\n              }}\r\n            >\r\n              Reset Detection\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        {isDetecting && (\r\n          <div>\r\n            <p style={{ color: '#ffc107', fontWeight: 'bold' }}>\r\n              🔍 Detecting emotion... ({detectionCount}/5)\r\n            </p>\r\n            <div style={{ \r\n              width: '200px', \r\n              height: '10px', \r\n              backgroundColor: '#e9ecef', \r\n              borderRadius: '5px',\r\n              margin: '10px auto',\r\n              overflow: 'hidden'\r\n            }}>\r\n              <div style={{\r\n                width: `${(detectionCount / 5) * 100}%`,\r\n                height: '100%',\r\n                backgroundColor: '#007bff',\r\n                transition: 'width 0.3s ease'\r\n              }}></div>\r\n            </div>\r\n            {confidence > 0 && (\r\n              <p style={{ color: '#6c757d', fontSize: '14px' }}>\r\n                Confidence: {(confidence * 100).toFixed(1)}%\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WebcamExpression;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}